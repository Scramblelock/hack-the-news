(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/hackthenews.39f114ac.png"},15:function(e,t,n){e.exports=n.p+"static/media/htn.f9d155eb.png"},18:function(e,t,n){e.exports=n(53)},24:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),s=n.n(r),c=(n(24),n(11)),i=n(12),m=n(16),l=n(13),u=n(17),p=n(14),f=n.n(p),h=n(15),d=n.n(h),E=(n(26),function(e){e.getTopStories;var t=e.reloadPage;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"smallLogoComponent"},o.a.createElement("img",{className:"htn",alt:"htn",src:d.a,onClick:t})),o.a.createElement("div",{className:"bigLogoComponent"},o.a.createElement("img",{className:"hackthenews",alt:"hackthenews",src:f.a})),o.a.createElement("div",{className:"navLinksComponent"}))}),v=(n(28),function(e){var t=e.name,n=e.rank;return o.a.createElement("div",{className:"commenterBox"},o.a.createElement("h3",null,t),o.a.createElement("p",null,"Comments posted: ",n))}),g=function(e){var t=e.topCommenters;return e.isTopCommenters?o.a.createElement("div",null,o.a.createElement("h1",null,"Top 10 Commenters"),t.map(function(e,t){return o.a.createElement(v,{key:t,name:e[0],rank:e[1]})})):o.a.createElement("div",null,o.a.createElement("h1",null,"Top 10 Commenters"),o.a.createElement("p",null,"Loading ..."))},w=(n(30),function(e){var t=e.story;return o.a.createElement("div",{className:"storyBox"},o.a.createElement("h3",null,t))}),k=function(e){var t=e.stories;return e.isStories?o.a.createElement("div",null,o.a.createElement("h1",null,"Top 30 Stories"),t.map(function(e,t){return o.a.createElement(w,{key:t,story:e})})):o.a.createElement("div",null,o.a.createElement("h1",null,"Top 30 Stories"),o.a.createElement("p",null,"Loading ... "))},C=n(2),S=n.n(C),T=(n(51),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(l.a)(t).call(this))).getTopStoryIds=function(){return new Promise(function(t,n){S.a.get("https://hacker-news.firebaseio.com/v0/topstories.json").then(function(n){var a=n.data.slice(0,30);return e.setState({topStoryIds:a},function(){t()})})})},e.getTopStoriesData=function(){return new Promise(function(t,n){var a=[];e.state.topStoryIds.forEach(function(e){a.push(S.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")))}),S.a.all(a).then(function(n){var a=n.map(function(e){return e.data}),o=n.map(function(e){return e.data.title});return e.setState({topStoriesData:a,stories:o,isStories:!0},function(){t()})}).catch(function(e){console.log("Error fetching and parsing data",e),n()})})},e.getCommenters=function(){return new Promise(function(t,n){var a=[],o=[],r=[];e.state.topStoriesData.forEach(function(e){e.kids&&e.kids.forEach(function(e){a.push(e)})}),a.forEach(function(e){o.push(S.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")))}),S.a.all(o).then(function(n){return n.forEach(function(e){e.data.by&&(r[e.data.by]||(r[e.data.by]=0),r[e.data.by]+=1)}),e.setState({commenters:r},function(){t()})}).catch(function(e){console.log("Error fetching and parsing data",e),n()})})},e.getTopCommenters=function(){var t=e.state.commenters,n=[];for(var a in t)n.push([a,t[a]]);n.sort(function(e,t){return(e=e[1])>(t=t[1])?-1:e<t?1:0});var o=n.slice(0,10);return e.setState({topCommenters:o,isTopCommenters:!0})},e.reloadPage=function(){return window.location.reload()},e.state={topStoryIds:[],topStoriesData:[],stories:[],isStories:!1,commenters:[],topCommenters:[],isTopCommenters:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getTopStoryIds().then(function(){e.getTopStoriesData().then(function(){e.getCommenters().then(function(){e.getTopCommenters()})})})}},{key:"render",value:function(){var e=this.state,t=e.isStories,n=e.stories,a=e.isTopCommenters,r=e.topCommenters;return o.a.createElement("div",{className:"App"},o.a.createElement(E,{reloadPage:this.reloadPage}),o.a.createElement("h1",{className:"headerTitle"},"Welcome to Hack The News."),o.a.createElement("p",null,"Here we list the Top 30 news stories from Hacker News and the Top 10 commenters from those stories."),o.a.createElement(k,{isStories:t,stories:n}),o.a.createElement(g,{isTopCommenters:a,topCommenters:r}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.f1ab05f1.chunk.js.map